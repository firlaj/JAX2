var JAX=function(a,b){if(a&&a.jaxNodeType)return a;if(!a)return new JAX.NullNode;if("string"==typeof a){b=(b&&b.jaxNodeType?b.node():b)||document;var c=b.querySelector(a),d=c?c.nodeType:-1}else"object"==typeof a&&a.nodeType?(d=a.nodeType,c=a):"window"in a&&"object"==typeof a.window&&"window"in a.window?(d=-2,c=a):(d=-1,c=null);switch(d){case -2:return new JAX.Window(c);case -1:return new JAX.NullNode;case 1:return new JAX.Element(c);case 3:case 8:return new JAX.TextNode(c);case 9:return new JAX.Document(c);
case 11:return new JAX.DocumentFragment(c)}};JAX.all=function(a,b){if(!a)return JAX.NodeArray([]);if("string"==typeof a){if(1==arguments.length)b=document;else if(1<arguments.length&&b)b=b.jaxNodeType?b.node():b;else return new JAX.NodeArray([]);for(var c=b.querySelectorAll(a),d=Array(c.length),e=0,g=c.length;e<g;e++)d[e]=JAX(c[e]);return new JAX.NodeArray(d)}return"object"==typeof a&&a.nodeType?new JAX.NodeArray(JAX(a)):a.jaxNodeType||a instanceof Array?new JAX.NodeArray(a):JAX.NodeArray([])};
JAX.make=function(a,b,c,d){b=b||{};c=c||{};d=d||document;if(!a||"string"!=typeof a)return JAX.Report.error("First argument must be string."),JAX(null);"object"!=typeof b&&(JAX.Report.error("Second argument must be associative array."),b={});"object"!=typeof c&&(JAX.Report.error("Third argument must be associative array."),c={});if("object"!=typeof d||!d.nodeType&&-1==[9,11].indexOf(d.nodeType))JAX.Report.error("Fourth argument must be document element."),d=document;a=a.match(/[#.]?[a-z0-9_-]+/ig)||
[];var e=a[0];if(!e||!/^[a-z0-9]+$/ig.test(e))return JAX.Report.error("Tagname must be first in element definition."),JAX(null);for(var g=0,h=a.length;g<h;g++){var l=a[g],p=l.charAt(0);"#"==p?b.id=l.substring(1):"."==p&&(b.className?(b.className+=" ",b.className+=l.substring(1)):b.className=l.substring(1))}d=d.createElement(e);for(var n in b)d[n]=b[n];for(n in c)d.style[n]=c[n];return new JAX.Element(d)};JAX.makeFromHTML=function(a){return!a?new JAX.NodeArray([]):JAX.make("div").html(a).children()};
JAX.makeText=function(a,b){return new JAX.TextNode((b||document).createTextNode(a))};JAX.getTypeOf=function(a){if("number"==typeof a)return"number";if("string"==typeof a)return"string";if("undefined"==typeof a)return"undefined";if("function"==typeof a)return"function";if(!0===a||!1===a)return"boolean";if(null===a)return"null";a=Object.prototype.toString.call(a);return"[object Array]"==a?"array":"[object Date]"==a?"date":"object"};
JAX.IListening=JAK.ClassMaker.makeInterface({NAME:"JAX.IListening",VERSION:"1.0"});JAX.IListening._events=[];
JAX.IListening.prototype.listen=function(a,b,c,d){c||(c=b,b=window);"string"!=typeof a&&(a+="",JAX.Report.error("For first argument I expected string.",this._node));if(!b||"object"!=typeof b&&"function"!=typeof b)JAX.Report.error("For second argument I expected referred object or binded function.",this._node),b=function(){},c=null;c&&("string"!=typeof c&&"function"!=typeof c)&&(JAX.Report.error("For third argument I expected string with function name or function.",this._node),b=function(){},c=null);
"string"==typeof c?(c=b[c])?c=c.bind(b):(JAX.Report.error("Given method in second argument was not found in referred object given in third argument.",this._node),c=function(){}):"function"==typeof c&&b?c=c.bind(b):"function"==typeof b&&(c=b);b=function(a,b){c(new JAX.Event(a),d)};var e=JAK.Events.addListener(this._node,a,b);b=new JAX.Listener(this,e,a,b);for(var e=JAX.IListening._events,g=-1,h=0,l=e.length;h<l;h++)if(e[h].node==this._node){g=h;break}-1==g?(g={node:this._node,events:{}},e.push(g)):
g=e[g];g.events[a]?g.events[a].push(b):g.events[a]=[b];return b};
JAX.IListening.prototype.stopListening=function(a){for(var b=JAX.IListening._events,c=-1,d=0,e=b.length;d<e;d++)if(b[d].node==this._node){c=d;break}if(-1==c)return this;d=b[c];if(!arguments.length){var d=d.events,g;for(g in d)this._destroyEvents(d[g]);b.splice(c,1);return this}if("string"==typeof a)return g=d.events[a],this._destroyEvents(g),delete b[c].events[a],this;if(a instanceof JAX.Listener)return g=d.events[a.type()],b=g.indexOf(a),-1<b&&(this._destroyEvents([g[b]]),g.splice(b,1)),this;JAX.Report.error("For first argument I expected JAX.Listener instance, string with event type or you can call it without arguments.");
return this};JAX.Event=JAK.ClassMaker.makeClass({NAME:"JAX.Event",VERSION:"1.0"});JAX.Event.prototype.$constructor=function(a){this._e=a};JAX.Event.prototype.event=function(){return this._e};JAX.Event.prototype.prevent=function(){JAK.Events.cancelDef(this._e);return this};JAX.Event.prototype.stop=function(){JAK.Events.stopEvent(this._e);return this};JAX.Event.prototype.target=function(){return JAX(JAK.Events.getTarget(this._e))};JAX.Event.prototype.currentTarget=function(){return JAX(this._e.currentTarget)};
JAX.Event.prototype.type=function(){return this._e.type};JAX.Listener=JAK.ClassMaker.makeClass({NAME:"JAX.Listener",VERSION:"1.0"});JAX.Listener.prototype.$constructor=function(a,b,c,d){this._jaxElm=a;this._type=c;this._method=d;this._id=b};JAX.Listener.prototype.unregister=function(){this._id&&(this._jaxElm.stopListening(this),this._id=null)};JAX.Listener.prototype.node=function(){return this._jaxElm.node()};JAX.Listener.prototype.id=function(){return this._id};JAX.Listener.prototype.type=function(){return this._type};
JAX.INode=JAK.ClassMaker.makeInterface({NAME:"JAX.INode",VERSION:"1.0"});JAX.INode.prototype.$destructor=function(){};JAX.INode.prototype.node=function(){return this._node};JAX.INode.prototype.exists=function(){return!!this._node};JAX.INode.prototype.find=function(a){this._showMessage();return new JAX.INode};JAX.INode.prototype.findAll=function(a){this._showMessage();return new JAX.NodeArray([])};JAX.INode.prototype.addClass=function(a){this._showMessage();return this};
JAX.INode.prototype.removeClass=function(a){this._showMessage();return this};JAX.INode.prototype.hasClass=function(a){this._showMessage();return!1};JAX.INode.prototype.toggleClass=function(a){this._showMessage();return this};JAX.INode.prototype.id=function(a){this._showMessage();return arguments.length?this:""};JAX.INode.prototype.html=function(a){this._showMessage();return arguments.length?this:""};JAX.INode.prototype.text=function(a){this._showMessage();return arguments.length?this:""};
JAX.INode.prototype.add=function(a){this._showMessage();return this};JAX.INode.prototype.insertFirst=function(a){this._showMessage();return this};JAX.INode.prototype.addBefore=function(a,b){this._showMessage();return this};JAX.INode.prototype.appendTo=function(a){this._showMessage();return this};JAX.INode.prototype.before=function(a){this._showMessage();return this};JAX.INode.prototype.after=function(a){this._showMessage();return this};
JAX.INode.prototype.replaceWith=function(a){this._showMessage();return this};JAX.INode.prototype.remove=function(){this._showMessage();return this};JAX.INode.prototype.clone=function(a){this._showMessage("JAX.INode.clone");return this};JAX.INode.prototype.listen=function(a,b,c,d){this._showMessage();return new JAX.Listener(this,null,a,f)};JAX.INode.prototype.stopListening=function(a){this._showMessage();return this};
JAX.INode.prototype.prop=function(a,b){this._showMessage();return"string"==typeof a?"":a instanceof Array?{}:this};JAX.INode.prototype.attr=function(a,b){this._showMessage();return"string"==typeof a?"":a instanceof Array?{}:this};JAX.INode.prototype.css=function(a,b){this._showMessage();return"string"==typeof a?"":a instanceof Array?{}:this};JAX.INode.prototype.computedCss=function(a){this._showMessage();return typeof a?"":{}};
JAX.INode.prototype.fullSize=function(a,b){this._showMessage();return 1==arguments.length?0:this};JAX.INode.prototype.size=function(a,b){this._showMessage();return 1==arguments.length?0:this};JAX.INode.prototype.parent=function(){this._showMessage();return new JAX.INode};JAX.INode.prototype.next=function(){this._showMessage();return new JAX.INode};JAX.INode.prototype.previous=function(){this._showMessage();return new JAX.INode};
JAX.INode.prototype.children=function(a){this._showMessage();return arguments.length?new JAX.INode:new JAX.NodeArray([])};JAX.INode.prototype.first=function(){this._showMessage();return new JAX.INode};JAX.INode.prototype.last=function(){this._showMessage();return new JAX.INode};JAX.INode.prototype.clear=function(){this._showMessage();return new JAX.INode};JAX.INode.prototype.eq=function(a){this._showMessage();return a&&a instanceof JAX.INode};
JAX.INode.prototype.contains=function(a){this._showMessage();return!1};JAX.INode.prototype.isIn=function(a){this._showMessage();return!1};JAX.INode.prototype.animate=function(a,b,c,d){this._showMessage();return(new JAK.Promise).reject(this._node)};JAX.INode.prototype.fade=function(a,b){this._showMessage();return(new JAK.Promise).reject(this._node)};JAX.INode.prototype.fadeTo=function(a,b){this._showMessage();return(new JAK.Promise).reject(this._node)};
JAX.INode.prototype.slide=function(a,b){this._showMessage();return(new JAK.Promise).reject(this._node)};JAX.INode.prototype.scroll=function(a,b,c){this._showMessage();return(new JAK.Promise).reject(this._node)};JAX.INode.prototype._showMessage=function(a){JAX.Report.error("I have bad feeling about this! You are trying to use unsupported method with my node.",this._node)};JAX.Node=JAK.ClassMaker.makeClass({NAME:"JAX.Node",VERSION:"1.0",IMPLEMENT:[JAX.INode]});
JAX.Node.prototype.$constructor=function(a){this._node=a;this.jaxNodeType=a.nodeType};
JAX.Node.prototype.add=function(a){if(a instanceof JAX.NodeArray)a=a.items();else if("string"==typeof a){var b=document.createElement("div");b.innerHTML=a;var c=b.childNodes.length;a=Array(c);for(var d=0;d<c;d++)a[d]=b.childNodes[d]}else a instanceof Array||(a=[].concat(a));d=0;for(c=a.length;d<c;d++)b=a[d],!b.nodeType&&!b.jaxNodeType||b.jaxNodeType&&1>b.jaxNodeType?JAX.Report.error("For my argument I expected html node, text node, documentFragment or JAX node. You can use also array of them."):(b=
b.jaxNodeType?b.node():b,this._node.appendChild(b));return this};JAX.Node.prototype.insertFirst=function(a){a=JAX(a);if(a.exists())return a=a.node(),this._node.childNodes&&this._node.firstChild?this._node.insertBefore(a,this._node.firstChild):this._node.childNodes?this._node.appendChild(a):JAX.Report.error("Given element can not have child nodes.",this._node),this;JAX.Report.error("I could not find given element. For first argument I expected html element, text node or JAX node.");return this};
JAX.Node.prototype.addBefore=function(a,b){if(!a||"object"!=typeof a||!a.nodeType&&!a.jaxNodeType||a.jaxNodeType&&1>a.jaxNodeType)return JAX.Report.error("For first argument I expected html element, text node, documentFragment or JAX node."),this;if(!b||"object"!=typeof b||!b.nodeType&&!b.jaxNodeType||a.jaxNodeType&&1>a.jaxNodeType)return JAX.Report.error("For second argument I expected html element, text node or JAX node."),this;a=a.jaxNodeType?a.node():a;b=b.jaxNodeType?b.node():b;this._node.insertBefore(a,
b);return this};JAX.Node.prototype.appendTo=function(a){a=JAX(a);if(a.exists())return a=a.jaxNodeType?a.node():a,a.appendChild(this._node),this;JAX.Report.error("I could not find given element. For first argument I expected html element, documentFragment or JAX node.");return this};
JAX.Node.prototype.before=function(a){a=JAX(a);if(a.exists())return a=a.node(),a.parentNode.insertBefore(this._node,a),this;JAX.Report.error("I could not find given element. For first argument I expected html element, text node or JAX node.");return this};
JAX.Node.prototype.after=function(a){a=JAX(a);if(a.exists())return a=a.node(),a.nextSibling?a.parentNode.insertBefore(this._node,a.nextSibling):a.parentNode.appendChild(this._node),this;JAX.Report.error("I could not find given element. For first argument I expected html element, text node or JAX node.");return this};
JAX.Node.prototype.replaceWith=function(a){a=JAX(a);if(a.exists())return a=a.node(),this.before(a),a.parentNode.removeChild(a),this;JAX.Report.error("For first argument I expected html element, text node or JAX node.");return this};JAX.Node.prototype.remove=function(){this._node.parentNode.removeChild(this._node);return this};JAX.Node.prototype.clone=function(a){return new this(this._node.cloneNode(!!a))};
JAX.Node.prototype.prop=function(a,b){if("string"==typeof a){if(1==arguments.length)return this._node[a];this._node[a]=b;return this}if(a instanceof Array){for(var c={},d=0,e=a.length;d<e;d++){var g=a[d];c[g]=this._node[g]}return c}for(g in a)this._node[g]=a[g];return this};
JAX.Node.prototype.isIn=function(a){if(!a)return!1;if("object"==typeof a&&(a.nodeType||a.jaxNodeType))return a=a.jaxNodeType?a:JAX(a),a.exists()?a.contains(this):!1;if("string"==typeof a)return/^[#.a-z0-9_-]+$/ig.test(a)?!!JAK.DOM.findParent(this._node,a):!!JAX.all(a).filterItems(function(a){return a.contains(this._node)}.bind(this)).length;JAX.Report.error("For first argument I expected html element, JAX node or CSS3 (2.1) selector.");return!1};
JAX.Node.prototype.parent=function(){return this._node.parentNode?JAX(this._node.parentNode):new JAX.NullNode};JAX.Node.prototype.next=function(){return this._node.nextSibling?JAX(this._node.nextSibling):new JAX.NullNode};JAX.Node.prototype.previous=function(){return this._node.previousSibling?JAX(this._node.previousSibling):new JAX.NullNode};JAX.Element=JAK.ClassMaker.makeClass({NAME:"JAX.Element",VERSION:"1.0",EXTEND:JAX.Node,IMPLEMENT:JAX.IListening});JAX.Element._events=[];
JAX.Element._OPACITY_REGEXP=/alpha\(opacity=['"]?([0-9]+)['"]?\)/i;JAX.Element._BOX_SIZING=null;(function(){var a={boxSizing:"box-sizing",mozBoxSizing:"-moz-box-sizing",WebkitBoxSizing:"-webkit-box-sizing"},b=document.createElement("div"),c;for(c in a)if(c in b.style){JAX.Element._BOX_SIZING=a[c];break}})();JAX.Element.prototype.$constructor=function(a){this.$super(a)};JAX.Element.prototype.$destructor=function(){this.stopListening();this._node=null};
JAX.Element.prototype.find=function(a){return JAX(a,this._node)};JAX.Element.prototype.findAll=function(a){return JAX.all(a,this._node)};JAX.Element.prototype.addClass=function(a){"string"!=typeof a&&(a+="",JAX.Report.error("Given argument can be only string.",this._node));a=a.split(" ");for(var b=0,c=a.length;b<c;b++)this._node.classList.add(a[b]);return this};
JAX.Element.prototype.removeClass=function(a){"string"!=typeof a&&(a+="",JAX.Report.error("Given argument can be only string.",this._node));a=a.split(" ");for(var b=0,c=a.length;b<c;b++)this._node.classList.remove(a[b]);return this};JAX.Element.prototype.hasClass=function(a){"string"!=typeof a&&(a+="",JAX.Report.error("For my argument I expected string.",this._node));if(""==a)return!1;for(a=a.split(" ");a.length;){var b=a.shift();if(!this._node.classList.contains(b))return!1}return!0};
JAX.Element.prototype.toggleClass=function(a){"string"!=typeof a&&(a+="",JAX.Report.error("For my argument I expected string.",this._node));this._node.classList.toggle(a);return this};JAX.Element.prototype.id=function(a){if(!arguments.length)return this.attr("id");"string"!=typeof a&&(a+="",JAX.Report.error("For my argument I expected string.",this._node));this.attr({id:a});return this};
JAX.Element.prototype.html=function(a){if(!arguments.length)return this._node.innerHTML;"string"!=typeof a&&"number"!=typeof a&&JAX.Report.error("For my argument I expected string or number.",this._node);this._node.innerHTML=a+"";return this};
JAX.Element.prototype.text=function(a){"string"!=typeof innerHTML&&"number"!=typeof innerHTML&&JAX.Report.error("For my argument I expected string or number.",this._node);if(!arguments.length&&"innerHTML"in this._node)return this._getText(this._node);"innerHTML"in this._node&&(this.clear(),this._node.appendChild(this._node.ownerDocument.createTextNode(a+"")));return this};
JAX.Element.prototype.attr=function(a,b){if("string"==typeof a){if(1==arguments.length)return this._node.getAttribute(a);this._node.setAttribute(a,b+"");return this}if(a instanceof Array){for(var c={},d=0,e=a.length;d<e;d++){var g=a[d];c[g]=this._node.getAttribute(g)}return c}for(g in a)this._node.setAttribute(g,a[g]);return this};
JAX.Element.prototype.removeAttr=function(a){if("string"==typeof a)return this._node.removeAttribute(a),this;if(property instanceof Array){for(var b=0,c=a.length;b<c;b++)this._node.removeAttribute(a[b]);return this}JAX.Report.error("For first argument I expected string or array of strings.",this._node);return this};
JAX.Element.prototype.css=function(a,b){if("string"==typeof a){if(1==arguments.length)return"opacity"==a?this._getOpacity():this._node.style[a];this._node.style[a]=b;return this}if(a instanceof Array){for(var c={},d=0,e=a.length;d<e;d++){var g=a[d];c[g]="opacity"==g?this._getOpacity():this._node.style[g]}return c}for(g in a)b=a[g],"opacity"==g?this._setOpacity(b):this._node.style[g]=b;return this};
JAX.Element.prototype.computedCss=function(a){if("string"==typeof a){var b=JAX.Element.getComputedStyle(this._node).getPropertyValue(a);return b}for(var c={},d=0,e=a.length;d<e;d++){var g=a[d],b=JAX.Element.getComputedStyle(this._node).getPropertyValue(g);c[g]=b}return c};
JAX.Element.prototype.fullSize=function(a,b){if(1==arguments.length){var c=this.css("display"),d="width"==a?this._node.offsetWidth:this._node.offsetHeight;this.css("display",c);return d}b=this._getSizeWithBoxSizing(a,b);this._node.style[a]=Math.max(b,0)+"px";return this};
JAX.Element.prototype.size=function(a,b){if(1==arguments.length){var c=parseInt(this.computedCss(a),10);if(isFinite(c))return c;var d=this.css("display");0==d.indexOf("none")&&this.css("display","");c=this._getSizeWithBoxSizing(a);this.css("display",d);return c}b=parseInt(b,10);this._node.style[a]=Math.max(b,0)+"px";return this};
JAX.Element.prototype.children=function(a){if(!arguments.length){for(var b=[],c=0,d=this._node.childNodes.length;c<d;c++)b.push(JAX(this._node.childNodes[c]));return new JAX.NodeArray(b)}return(b=this._node.childNodes[a])?JAX(b):new JAX.NullNode};
JAX.Element.prototype.first=function(){if("firstElementChild"in this._node)return this._node.firstElementChild?JAX(this._node.firstElementChild):new JAX.NullNode;if(!this._node.childNodes||!this._node.childNodes.length)return new JAX.NullNode;for(var a=0,b=this._node.childNodes.length;a<b;a++){var c=this._node.childNodes[a];if(1==c.nodeType)return JAX(c)}return new JAX.NullNode};
JAX.Element.prototype.last=function(){if("lastElementChild"in this._node)return this._node.lastElementChild?JAX(this._node.lastElementChild):new JAX.NullNode;if(!this._node.childNodes||!this._node.childNodes.length)return new JAX.NullNode;for(var a=this._node.childNodes.length-1;-1<a;a--){var b=this._node.childNodes[a];if(1==b.nodeType)return JAX(b)}return new JAX.NullNode};JAX.Element.prototype.clear=function(){"innerHTML"in this._node&&JAK.DOM.clear(this._node);return this};
JAX.Element.prototype.eq=function(a){return!a?!1:"object"==typeof a&&(a.nodeType||a.jaxNodeType)?(a.jaxNodeType?a.node():a)===this._node:"string"==typeof a?/^[a-zA-Z0-9]+$/g.test(a)?!!(this._node.tagName&&this._node.tagName.toLowerCase()==a):!!this.parent().findAll(a).filterItems(function(a){return a.eq(this._node)},this).length:!1};
JAX.Element.prototype.contains=function(a){if(!a)return!1;if("object"==typeof a&&(a.nodeType||a.jaxNodeType)){for(a=a.jaxNodeType?a.parent().node():a.parentNode;a;){if(a==this._node)return!0;a=a.parentNode}return!1}if("string"==typeof a)return!!this.find(a);JAX.Report.error("For first argument I expected html element, text node, string with CSS3 compatible selector or JAX node.");return!1};
JAX.Element.prototype.animate=function(a,b,c,d){"string"!=typeof a&&(type+="",JAX.Report.error("For first argument I expected string.",this._node));var e=new JAX.FX(this);e.addProperty(a,b,c,d);return(new JAX.Element.FX(this,e)).run()};
JAX.Element.prototype.fade=function(a,b){"string"!=typeof a&&(a+="",JAX.Report.error("For first argument I expected string.",this._node));switch(a){case "in":return this.animate("opacity",b,0,1);case "out":return this.animate("opacity",b,1,0);default:return JAX.Report.error("I got unsupported type '"+a+"'.",this._node),(new JAX.Element.FX(this,null)).run()}};
JAX.Element.prototype.fadeTo=function(a,b){a=parseFloat(a)||0;0>a&&(a=0,JAX.Report.error("For first argument I expected positive number, but I got negative. I set zero value.",this._node));return this.animate("opacity",b,null,a)};
JAX.Element.prototype.slide=function(a,b){"string"!=typeof a&&(a+="",JAX.Report.error("For first argument I expected string.",this._node));var c={};switch(a){case "down":var c=this.css(["overflow","height"]),d="height",e=0,g=null;break;case "up":d="height";e=null;g=0;break;case "left":d="width";e=null;g=0;break;case "right":c=this.css(["overflow","width"]);d="width";e=0;g=null;break;default:return JAX.Report.error("I got unsupported type '"+a+"'.",this._node),(new JAX.Element.FX(this,null)).run()}this.css("overflow",
"hidden");var h=function(){this.css(c)}.bind(this),d=this.animate(d,b,e,g);d.then(h);return d};
JAX.Element.prototype.scroll=function(a,b,c){"string"!=typeof a&&(JAX.Report.error("I expected String for my first argument.",this._node),a+="");var d=this._node.scrollLeft,e=this._node.scrollTop;if(1==arguments.length){switch(a.toLowerCase()){case "top":d=e;break;case "left":break;default:JAX.Report.error("You gave me an unsupported type. I expected 'x' or 'y'.",this._node),d=0}return d}d=parseFloat(b);isFinite(d)||JAX.Report.error("I expected Number or string with number for my second argument.",
this._node);a=a.toLowerCase();if(!c){switch(a){case "top":this._node.scrollTop=b;break;case "left":this._node.scrollLeft=b}return this}c=parseFloat(c);isFinite(c)||(JAX.Report.error("I expected Number or string with number for my third argument.",this._node),c=1);d=new JAX.FX.Scrolling(this);d.addProperty(a,b,c);d.run();return d};
JAX.Element.prototype._setOpacity=function(a){var b="";"ie"==JAK.Browser.client&&9>JAK.Browser.version?(b="filter",a=Math.round(100*a),a="progid:DXImageTransform.Microsoft.Alpha(opacity="+a+");"):b="opacity";this._node.style[b]=a+""};JAX.Element.prototype._getOpacity=function(){if("ie"==JAK.Browser.client&&9>JAK.Browser.version){var a="";this._node.style.filter.replace(JAX.ELEMENT._OPACITY_REGEXP,function(b,c){a=c});return a?parseInt(a,10)/100+"":a}return this._node.style.opacity};
JAX.Element.prototype._getSizeWithBoxSizing=function(a,b){var c=JAX.Node._BOX_SIZING?this.computedCss(JAX.Node._BOX_SIZING):null,d=0,e=0,g=0,h=0,l="padding-"+("width"==a?"left":"top"),p="padding-"+("width"==a?"right":"bottom"),n="border-"+("width"==a?"left":"top"),t="border-"+("width"==a?"right":"bottom");1==arguments.length&&(b="width"==a?this._node.offsetWidth:this._node.offsetHeight);if(!c||"content-box"==c)d=parseFloat(this.computedCss(l)),e=parseFloat(this.computedCss(p));"border-box"!=c&&(g=
parseFloat(this.computedCss(n)),h=parseFloat(this.computedCss(t)));d&&isFinite(d)&&(b-=d);e&&isFinite(e)&&(b-=e);g&&isFinite(g)&&(b-=g);h&&isFinite(h)&&(b-=h);return b};JAX.Element.prototype._getText=function(a){for(var b="",c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];e.tagName&&e.tagName.toLowerCase();b=e.childNodes&&e.childNodes.length?b+this._getText(e):e.nodeValue?b+e.nodeValue:b+" "}return b};
JAX.Element.prototype._destroyEvents=function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b].id();JAK.Events.removeListener(d)}};
(function(){if(window.getComputedStyle)JAX.Element.getComputedStyle=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,"")};else{var a=function(a){return a.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()})},b=function(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()})},c=function(a){if(!a)return 16;var b=a.currentStyle.fontSize,d=parseFloat(b),b=b.split(/\d/)[0];return/%|em/.test(b)?c(a.parentElement):e(d,b)},d=function(a,b,c,d){c=b.boxSizing;var e=0,
g=0,k=0,m=0,q="padding"+("width"==a?"Left":"Top"),u="padding"+("width"==a?"Right":"Bottom"),r="border"+("width"==a?"LeftWidth":"Top");a="border"+("width"==a?"RightWidth":"Bottom");if(!c||"content-box"==c)e=parseFloat(b[q]),g=parseFloat(b[u]);"border-box"!=c&&(k=parseFloat(b[r]),m=parseFloat(b[a]));e&&isFinite(e)&&(d-=e);g&&isFinite(g)&&(d-=g);k&&isFinite(k)&&(d-=k);m&&isFinite(m)&&(d-=m);return d},e=function(a,b,c,d){switch(b){case "em":return a*d;case "in":return 96*a;case "pt":return 96*a/72;case "pc":return 1152*
a/72;case "cm":return 37.7952*a;case "mm":return 37.7952*a/10;case "%":return a/100*c;default:return a}},g=function(a){var g=a.currentStyle,p=c(a),n=0;for(property in g){this[n]=b(property);if(/margin.|padding.|border.+W|^fontSize$/.test(property)&&"auto"!=g[property]){var t=property,s,k=a,m=property;s=p;var q=g[m],u=parseFloat(q),q=q.split(/\d/)[0];if("fontSize"==m)k=s;else if(k.parentElement!=k.ownerDocument){var m=k.parentElement,r=document.createElement("jaxtemp");r.style.display="block";m.appendChild(r);
k=r.offsetWidth;m.removeChild(r)}else k=k.parentElement.documentElement.clientWidth;s=e(u,q,k,s);this[t]=s+"px"}else if("styleFloat"==property)this["float"]=g[property];else if(-1!=["left","right","top","bottom"].indexOf(property)&&-1!=["absolute","relative","fixed"].indexOf(g.position)&&"auto"!=g[property]){t=property;m=a;q=property;s=p;k=g[q];u=parseFloat(k);k=k.split(/\d/)[0];r=0;a:{for(q="left"==q||"right"==q?"clientWidth":"clientHeight";m.parentElement&&m.parentElement.currentStyle;)if(m=m.parentElement,
-1!=["absolute","relative","fixed"].indexOf(m.currentStyle.position||"")){r=m[q];break a}r=m.ownerDocument.documentElement[q]}s=e(u,k,r,s);this[t]=s+"px"}else try{this[property]=g[property]}catch(v){this[property]=""}n++}this.length=n;this.width=-1!=g.width.indexOf("px")?g.width:d("width",this,p,a.offsetWidth)+"px";this.height=-1!=g.height.indexOf("px")?g.height:d("height",this,p,a.offsetHeight)+"px"};g.prototype.getPropertyPriority=function(){throw Error("NotSupportedError: DOM Exception 9");};g.prototype.getPropertyValue=
function(b){return this[a(b)]||""};g.prototype.item=function(a){return this[a]};g.prototype.removeProperty=function(){throw Error("NoModificationAllowedError: DOM Exception 7");};g.prototype.setProperty=function(){throw Error("NoModificationAllowedError: DOM Exception 7");};g.prototype.getPropertyCSSValue=function(){throw Error("NotSupportedError: DOM Exception 9");};JAX.Element.getComputedStyle=function(a){return new g(a)}}})();JAX.Element.FX=JAK.ClassMaker.makeClass({NAME:"JAX.Element.FX",VERSION:"1.0"});
JAX.Element.FX.prototype.$constructor=function(a,b){this._jaxElm=a;this._jaxFXFinished=(this._jaxFX=b)?null:(new JAX.Promise).reject(this._jaxElm)};JAX.Element.FX.prototype.run=function(){this._jaxFXFinished=this._jaxFX.run();return this};JAX.Element.FX.prototype.then=function(a,b){return this._jaxFXFinished.then(a,b)};JAX.Element.FX.prototype.getAnimation=function(){return this._jaxFX};JAX.Element.FX.prototype.getPromise=function(){return this._jaxFXFinished};
JAX.Element.FX.prototype.getJAXNode=function(){return this._jaxElm};JAX.Element.FX.prototype.stop=function(){this._jaxFX&&this._jaxFX.stop();return this};JAX.Element.FX.prototype.reverse=function(){return this._jaxFX?this._jaxFX.reverse():(new JAK.Promise).reject()};JAX.TextNode=JAK.ClassMaker.makeClass({NAME:"JAX.Node",VERSION:"1.0",EXTEND:JAX.Node});JAX.TextNode.prototype.$constructor=function(a){this.$super(a)};
JAX.TextNode.prototype.text=function(a){if(!arguments.length)return this._node.nodeValue;this._node.nodeValue=a;return this};JAX.TextNode.prototype.clear=function(){this._node.nodeValue="";return this};JAX.TextNode.prototype.eq=function(a){return!a?!1:(a.jaxNodeType?a.node():a)==this._node};JAX.TextNode.prototype.add=function(a){this._showMessage();return this};JAX.TextNode.prototype.insertFirst=function(a,b){this._showMessage();return this};
JAX.TextNode.prototype.addBefore=function(a,b){this._showMessage();return this};JAX.Document=JAK.ClassMaker.makeClass({NAME:"JAX.Document",VERSION:"1.0",IMPLEMENT:[JAX.IListening,JAX.INode]});JAX.Document.prototype.$constructor=function(a){this._node=a;this.jaxNodeType=a.nodeType};JAX.Document.prototype.find=function(a){return JAX(a,this._node)};JAX.Document.prototype.findAll=function(a){return JAX.all(a,this._node)};
JAX.Document.prototype.size=function(a){if(1<arguments.length)return JAX.Report.error("I am so sorry, but you can not set "+a+" of document node.",this._node),this;switch(a){case "width":return Math.max(this._node.body.scrollWidth,this._node.documentElement.scrollWidth,this._node.body.offsetWidth,this._node.documentElement.offsetWidth,this._node.body.clientWidth,this._node.documentElement.clientWidth);case "height":return Math.max(this._node.body.scrollHeight,this._node.documentElement.scrollHeight,
this._node.body.offsetHeight,this._node.documentElement.offsetHeight,this._node.body.clientHeight,this._node.documentElement.clientHeight);default:return JAX.Report.error("You gave me an unsupported size type. I expected 'width' or 'height'.",this._node),0}};JAX.Document.prototype.fullSize=function(a){return 1<arguments.length?(JAX.Report.error("I am so sorry, but you can not set "+a+" of document node.",this._node),this):this.size(a)};
JAX.Document.prototype.scroll=function(a,b,c){"string"!=typeof a&&(JAX.Report.error("I expected String for my first argument.",this._node),a+="");var d=JAK.DOM.getScrollPos(),e=d.x,d=d.y;if(1==arguments.length){switch(a.toLowerCase()){case "top":e=d;break;case "left":break;default:JAX.Report.error("You gave me an unsupported type. I expected 'x' or 'y'.",this._node),e=0}return e}e=parseFloat(b);isFinite(e)||JAX.Report.error("I expected Number or string with number for my second argument.",this._node);
a=a.toLowerCase();if(!c){switch(a){case "top":this._node.documentElement.scrollTop=b;break;case "left":this._node.documentElement.scrollLeft=b}return this}c=parseFloat(c);isFinite(c)||(JAX.Report.error("I expected Number or string with number for my third argument.",this._node),c=1);e=new JAX.FX.Scrolling(this);e.addProperty(a,b,c);e.run();return e};JAX.DocumentFragment=JAK.ClassMaker.makeClass({NAME:"JAX.DocumentFragment",VERSION:"1.0",EXTEND:JAX.Node});
JAX.DocumentFragment.prototype.$constructor=function(a){this.$super(a)};JAX.DocumentFragment.prototype.find=function(a){return JAX(a,this._node)};JAX.DocumentFragment.prototype.findAll=function(a){return JAX.all(a,this._node)};JAX.DocumentFragment.prototype.remove=function(){this._showMessage();return this};JAX.NullNode=JAK.ClassMaker.makeClass({NAME:"JAX.NullNode",VERSION:"1.0",IMPLEMENT:[JAX.INode]});JAX.NullNode.prototype.$constructor=function(){this._node=null;this.jaxNodeType=-1};
JAX.NullNode.prototype._showMessage=function(a){JAX.Report.error("Hello! I am null node. It means you are trying to work with not existing node. Be careful what you do. Try to use JAX.Node.exists method for checking if element is found.")};JAX.Window=JAK.ClassMaker.makeClass({NAME:"JAX.Window",VERSION:"1.0",IMPLEMENT:[JAX.IListening,JAX.INode]});JAX.Window.prototype.$constructor=function(a){this._node=a;this.jaxNodeType=-2};
JAX.Window.prototype.size=function(a){if(1<arguments.length)return JAX.Report.error("I am so sorry, but you can not set "+a+" of document node.",this._node),this;"width"!=a&&"height"!=a&&JAX.Report.error("You gave me an unsupported size type. I expected 'width' or 'height'.",this._node);if("innerWidth"in window)return"width"==a?window.innerWidth:window.innerHeight;if("clientWidth"in document.documentElement)return"width"==a?document.documentElement.clientWidth:document.documentElement.clientHeight;
if("clientWidth"in document.body)return"width"==a?document.body.clientWidth:document.body.clientHeight;JAX.Report.error("You have probably unsupported browser.",this._node);return 0};
JAX.Window.prototype.scroll=function(a,b,c){"string"!=typeof a&&(JAX.Report.error("I expected String for my first argument.",this._node),a+="");if("pageXOffset"in this._node)var d=this._node.pageXOffset,e=this._node.pageYOffset;else e=JAK.DOM.getScrollPos(),d=e.x,e=e.y;if(1==arguments.length){switch(a.toLowerCase()){case "top":d=e;break;case "left":break;default:JAX.Report.error("You gave me an unsupported type. I expected 'x' or 'y'.",this._node),d=0}return d}var g=parseFloat(b);isFinite(g)||JAX.Report.error("I expected Number or string with number for my second argument.",
this._node);a=a.toLowerCase();if(!c){switch(a){case "top":this._node.scrollTo(d,b);break;case "left":this._node.scrollTo(b,e)}return this}c=parseFloat(c);isFinite(c)||(JAX.Report.error("I expected Number or string with number for my third argument.",this._node),c=1);d=new JAX.FX.Scrolling(this);d.addProperty(a,b,c);d.run();return d};JAX.NodeArray=JAK.ClassMaker.makeClass({NAME:"JAX.NodeArray",VERSION:"1.02"});
JAX.NodeArray.prototype.$constructor=function(a){var b=!1;a=a?[].concat(a):[];var c=0;for(this._jaxNodes=[];a.length;){c++;var d=a.shift();"object"==typeof d&&d.nodeType?this._jaxNodes.push(JAX(d)):d.jaxNodeType&&d.exists()?this._jaxNodes.push(d):(c--,b=!0)}b&&JAX.Report.error("First argument can be only html node, JAX node or array of them.",this._node);this.length=c};
JAX.NodeArray.prototype.allExists=function(){if(!this._jaxNodes.length)return!1;for(var a=0,b=this._jaxNodes.length;a<b;a++)if(!this._jaxNodes[a].exists())return!1;return!0};JAX.NodeArray.prototype.item=function(a){return this._jaxNodes[a||0]};JAX.NodeArray.prototype.items=function(a,b){if(!arguments.length)return this._jaxNodes.slice();b="number"==typeof b||b?b:this._jaxNodes.length;return this._jaxNodes.slice("number"==typeof a||a?a:0,b)};
JAX.NodeArray.prototype.limit=function(a,b){return new JAX.NodeArray(this.items.apply(this,arguments))};JAX.NodeArray.prototype.index=function(a){a=JAX(a);a=a.node();for(var b=0,c=this._jaxNodes.length;b<c;b++)if(this._jaxNodes[b].node()==a)return b;return-1};JAX.NodeArray.prototype.addClass=function(a){for(var b=0,c=this._jaxNodes.length;b<c;b++)this._jaxNodes[b].addClass(a);return this};
JAX.NodeArray.prototype.haveClass=function(a){for(var b=0,c=this._jaxNodes.length;b<c;b++)if(!this._jaxNodes[b].hasClass(a))return!1;return!0};JAX.NodeArray.prototype.toggleClass=function(a){for(var b=0,c=this._jaxNodes.length;b<c;b++)this._jaxNodes[b].toggleClass(a);return this};JAX.NodeArray.prototype.removeClass=function(a){for(var b=0,c=this._jaxNodes.length;b<c;b++)this._jaxNodes[b].removeClass(a);return this};
JAX.NodeArray.prototype.attr=function(a,b){for(var c=0,d=this._jaxNodes.length;c<d;c++)this._jaxNodes[c].attr(a,b);return this};JAX.NodeArray.prototype.removeAttr=function(a){for(var b=0,c=this._jaxNodes.length;b<c;b++)this._jaxNodes[b].removeAttr(a);return this};JAX.NodeArray.prototype.css=function(a,b){for(var c=0,d=this._jaxNodes.length;c<d;c++)this._jaxNodes[c].css(a,b);return this};
JAX.NodeArray.prototype.prop=function(a,b){for(var c=0,d=this._jaxNodes.length;c<d;c++)this._jaxNodes[c].prop(a,b);return this};JAX.NodeArray.prototype.appendTo=function(a){for(var b=0,c=this._jaxNodes.length;b<c;b++)this._jaxNodes[b].appendTo(a);return this};JAX.NodeArray.prototype.before=function(a){for(var b=0,c=this._jaxNodes.length;b<c;b++)this._jaxNodes[b].before(a);return this};
JAX.NodeArray.prototype.remove=function(){for(var a=0,b=this._jaxNodes.length;a<b;a++)this._jaxNodes[a].remove();return this};JAX.NodeArray.prototype.areIn=function(a){for(var b=0,c=this._jaxNodes.length;b<c;b++)if(!this._jaxNodes[b].isIn(a))return!1;return!0};JAX.NodeArray.prototype.destroyNodes=function(){for(var a=0,b=this._jaxNodes.length;a<b;a++)this._jaxNodes[a].$destructor();this._jaxNodes=[]};
JAX.NodeArray.prototype.listen=function(a,b,c,d){for(var e=this._jaxNodes.length,g=Array(e),h=0;h<e;h++)g[h]=this._jaxNodes[h].listen(a,b,c,d);return g};JAX.NodeArray.prototype.stopListening=function(a){for(var b=0,c=this._jaxNodes.length;b<c;b++)this._jaxNodes[b].stopListening(a);return this};JAX.NodeArray.prototype.forEachItem=function(a,b){this._jaxNodes.forEach(a,b||this);return this};JAX.NodeArray.prototype.filterItems=function(a,b){var c=this._jaxNodes.filter(a,b||this);return new JAX.NodeArray(c)};
JAX.NodeArray.prototype.firstItem=function(){var a=this._jaxNodes[0];return a?a:new JAX.NullNode};JAX.NodeArray.prototype.lastItem=function(){var a=this._jaxNodes[this.length-1];return a?a:new JAX.NullNode};JAX.NodeArray.prototype.pushItem=function(a){a=JAX(a);this.length++;this._jaxNodes.push(a);return this};JAX.NodeArray.prototype.popItem=function(){this.length=Math.max(--this.length,0);return this._jaxNodes.pop()};
JAX.NodeArray.prototype.shiftItem=function(){this.length=Math.max(--this.length,0);return this._jaxNodes.shift()};JAX.NodeArray.prototype.unshiftItem=function(a){a=JAX(a);this.length++;this._jaxNodes.unshift(a);return this};JAX.NodeArray.prototype.animate=function(a,b,c,d){for(var e=Array(this._jaxNodes.length),g=0,h=this._jaxNodes.length;g<h;g++)e[g]=this._jaxNodes[g].animate(a,b,c,d);return new JAX.NodeArray.FX(e)};
JAX.NodeArray.prototype.fade=function(a,b){for(var c=Array(this._jaxNodes.length),d=0,e=this._jaxNodes.length;d<e;d++)c[d]=this._jaxNodes[d].fade(a,b);return new JAX.NodeArray.FX(c)};JAX.NodeArray.prototype.fadeTo=function(a,b){for(var c=Array(this._jaxNodes.length),d=0,e=this._jaxNodes.length;d<e;d++)c[d]=this._jaxNodes[d].fadeTo(a,b);return new JAX.NodeArray.FX(c)};
JAX.NodeArray.prototype.slide=function(a,b){for(var c=Array(this._jaxNodes.length),d=0,e=this._jaxNodes.length;d<e;d++)c[d]=this._jaxNodes[d].slide(a,b).getPromise();return new JAX.NodeArray.FX(c)};JAX.NodeArray.prototype.scroll=function(a,b,c){for(var d=Array(this._jaxNodes.length),e=0,g=this._jaxNodes.length;e<g;e++)d[e]=this._jaxNodes[e].scroll(a,b,c);return JAK.Promise.when(d)};JAX.NodeArray.FX=JAK.ClassMaker.makeClass({NAME:"JAX.NodeArray.FX",VERSION:"1.0"});
JAX.NodeArray.FX.prototype.$constructor=function(a){this._jaxElementFXArray=a};JAX.NodeArray.FX.prototype.then=function(a,b){for(var c=this._jaxElementFXArray.length,d=Array(c),e=0;e<c;e++)d[e]=this._jaxElementFXArray[e].getPromise();return JAK.Promise.when(d).then(function(b){b=new JAX.NodeArray(b);a(b)},function(a){a=new JAX.NodeArray(a);b(a)})};JAX.NodeArray.FX.prototype.stop=function(){for(var a=this._jaxElementFXArray.length,b=0;b<a;b++)this._jaxElementFXArray[b].stop();return this};
JAX.NodeArray.FX.prototype.reverse=function(){for(var a=this._jaxElementFXArray.length,b=Array(a),c=0;c<a;c++)b[c]=this._jaxElementFXArray[c].reverse();return JAK.Promise.when(b)};JAX.FX=JAK.ClassMaker.makeClass({NAME:"JAX.FX",VERSION:"1.1"});
JAX.FX._SUPPORTED_PROPERTIES={width:{defaultUnit:"px"},maxWidth:{defaultUnit:"px"},minWidth:{defaultUnit:"px"},height:{defaultUnit:"px"},maxHeight:{defaultUnit:"px"},minHeight:{defaultUnit:"px"},top:{defaultUnit:"px"},left:{defaultUnit:"px"},bottom:{defaultUnit:"px"},right:{defaultUnit:"px"},fontSize:{defaultUnit:"px"},opacity:{defaultUnit:""},color:{defaultUnit:""},backgroundColor:{defaultUnit:""}};JAX.FX._SUPPORTED_METHODS="ease linear ease-in ease-out ease-in-out cubic-bezier".split(" ");
JAX.FX.prototype.$constructor=function(a){this._jaxElm=JAX(a);if(!this._jaxElm.exists())throw Error("I can not continue because I got null node. Check your code. please.");this._settings=[];this._running=this._reversed=!1;this._timeline=this._maxDuration=0;this._interval=null;this._promise={finished:null};this._processor=null};
JAX.FX.prototype.addProperty=function(a,b,c,d,e){var g=this._parseValue(b);b=this._parseUnit(b)||"ms";e=JAX.FX.CSS3.isSupported?e||"linear":"LINEAR";if("string"!=typeof a)throw Error("For first argument I expected string");if(!isFinite(g)||0>g)throw Error("For second argument I expected positive number");if(c&&"string"!=typeof c&&("number"!=typeof c||!isFinite(c)))throw Error("For third argument I expected string, number or null for automatic checking");if(d&&"string"!=typeof d&&("number"!=typeof d||
!isFinite(d)))throw Error("For fourth argument I expected string or number");if(null==c&&null==d)throw Error("At least one of start and end values must be defined.");if("string"!=typeof e)throw Error("For fifth argument I expected string");this._checkSupportedProperty(a);this._checkSupportedMethod(e);d=d||"number"==typeof d&&isFinite(d)?this._parseCSSValue(a,d):this._foundCSSValue(a);c=c||"number"==typeof c&&isFinite(c)?this._parseCSSValue(a,c):this._foundCSSValue(a);b={value:"ms"==b?g:1E3*g,unit:"ms"};
this._maxDuration=Math.max(b.value,this._maxDuration);this._settings.push({property:a,startValue:c.value,startUnit:c.unit,endValue:d.value,endUnit:d.unit,durationValue:b.value,durationUnit:b.unit,method:e});return this};
JAX.FX.prototype.run=function(){if(this.isRunning())return this._promise.finished;this._processor=JAX.FX.CSS3.isSupported?new JAX.FX.CSS3(this._jaxElm):new JAX.FX.Interpolator(this._jaxElm);this._processor.set(this._settings);this._running=!0;this._timeline=0;this._interval=setInterval(this._tick.bind(this),30);this._promise.finished=this._processor.run();this._promise.finished.then(this._finishAnimation.bind(this),this._finishAnimation.bind(this));return this._promise.finished};
JAX.FX.prototype.reverse=function(){this.isRunning()&&this.stop();this._reversed=!this._reversed;for(var a=[],b=0,c=this._settings.length;b<c;b++){var d=this._settings[b],e=d.property,g=d.method,h=this._parseCSSValue(e,this._jaxElm.computedCss(this._styleToCSSProperty(e))),l=h.value,h=h.unit,p=d.durationUnit;if(this._reversed)var n=Math.min(this._timeline,d.durationValue),t=d.startValue,d=d.startUnit;else n=Math.max(d.durationValue-this._timeline,0),t=d.endValue,d=d.endUnit;a.push({property:e,startValue:l,
startUnit:h,endValue:t,endUnit:d,durationValue:n,durationUnit:p,method:g})}this._processor=JAX.FX.CSS3.isSupported?new JAX.FX.CSS3(this._jaxElm):new JAX.FX.Interpolator(this._jaxElm);this._processor.set(a);this._running=!0;this._interval=setInterval(this._tick.bind(this),30);this._promise.finished=this._processor.run();this._promise.finished.then(this._finishAnimation.bind(this),this._finishAnimation.bind(this));return this._promise.finished};JAX.FX.prototype.isRunning=function(){return this._running};
JAX.FX.prototype.stop=function(){this._processor.stop();this._finishAnimation();return this};JAX.FX.prototype._checkSupportedProperty=function(a){if(!(a in JAX.FX._SUPPORTED_PROPERTIES)){a=[];for(var b in JAX.FX._SUPPORTED_PROPERTIES)a.push(b);throw Error("First argument must be supported setting: "+a.join(", "));}};
JAX.FX.prototype._checkSupportedMethod=function(a){a=a.toLowerCase();if(!(-1<JAX.FX._SUPPORTED_METHODS.indexOf(a)||0==a.indexOf("cubic-bezier"))){a=[];for(var b=0,c=JAX.FX._SUPPORTED_METHODS.length;b<c;b++)a.push(JAX.FX._SUPPORTED_METHODS[b]);throw Error("Fifth argument must be supported method: "+a.join(", "));}};
JAX.FX.prototype._parseCSSValue=function(a,b){var c=JAX.FX._SUPPORTED_PROPERTIES[a].defaultUnit;if("backgroundColor"==a||"color"==a)var d=b;else d=this._parseValue(b),c=this._parseUnit(b)||c;return{value:d,unit:c}};JAX.FX.prototype._parseValue=function(a){return parseFloat(a)};JAX.FX.prototype._parseUnit=function(a){var b=parseFloat(a);return(a+"").replace(b,"")};
JAX.FX.prototype._foundCSSValue=function(a){var b=JAX.FX._SUPPORTED_PROPERTIES[a].defaultUnit;switch(a){case "width":case "height":a=this._jaxElm.size(a);break;case "backgroundColor":case "color":a=this._jaxElm.computedCss(this._styleToCSSProperty(a));break;default:a=this._jaxElm.computedCss(this._styleToCSSProperty(a)),a=parseFloat(a)}return{value:a,unit:b}};
JAX.FX.prototype._finishAnimation=function(){clearInterval(this._interval);this._timeline=!this._reversed?this._maxDuration:0;this._isRunning=!1};JAX.FX.prototype._styleToCSSProperty=function(a){return a.replace(/([A-Z])/g,function(a,c){return"-"+c.toLowerCase()})};JAX.FX.prototype._tick=function(){this._timeline=Math.min(Math.max(this._timeline+(this._reversed?-30:30),0),this._maxDuration)};JAX.FX.CSS3=JAK.ClassMaker.makeClass({NAME:"JAX.FX.CSS3",VERSION:"1.0"});
JAX.FX.CSS3._TRANSITION_PROPERTY="";JAX.FX.CSS3._TRANSITION_EVENT="";(function(){var a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",MSTransition:"MSTransitionEnd"},b;for(b in a)if(b in document.createElement("div").style){JAX.FX.CSS3._TRANSITION_PROPERTY=b;JAX.FX.CSS3._TRANSITION_EVENT=a[b];break}})();JAX.FX.CSS3.isSupported=!!JAX.FX.CSS3._TRANSITION_PROPERTY;
JAX.FX.CSS3.prototype.$constructor=function(a){this._jaxElm=a;this._settings=[];this._transitionCount=0;this._ecTransition=null;this._promise={finished:null}};JAX.FX.CSS3.prototype.set=function(a){this._settings=a};
JAX.FX.CSS3.prototype.run=function(){this._promise.finished=new JAK.Promise;for(var a=JAX.FX.CSS3._TRANSITION_PROPERTY,b=JAX.FX.CSS3._TRANSITION_EVENT,c=[],d=this._jaxElm.node(),e=d.style,g=0,h=this._settings.length;g<h;g++){var l=this._settings[g],p=l.startValue+l.startUnit,n=this._styleToCSSProperty(l.property)+" "+l.durationValue+l.durationUnit+" "+l.method;e[l.property]=p;c.push(n);this._transitionCount++}setTimeout(function(){d.style[a]=c.join(",");this._ecTransition=this._jaxElm.listen(b,this,
"_finishTransitionAnimation");for(var g=0,h=this._settings.length;g<h;g++){var k=this._settings[g];e[k.property]=k.endValue+k.startUnit}}.bind(this),0);return this._promise.finished};JAX.FX.CSS3.prototype.stop=function(){for(var a=this._jaxElm.node(),b=a.style,c=0,d=this._settings.length;c<d;c++){var e=this._settings[c].property,g=window.getComputedStyle(a).getPropertyValue(this._styleToCSSProperty(e));b[e]=g}for(;this._transitionCount;)this._endTransition();this._promise.finished.reject(this._jaxElm)};
JAX.FX.CSS3.prototype._endTransition=function(){this._transitionCount--;this._transitionCount||(this._ecTransition.unregister(),this._ecTransition=null,this._jaxElm.node().style[JAX.FX.CSS3._TRANSITION_PROPERTY]="")};JAX.FX.CSS3.prototype._finishTransitionAnimation=function(){this._endTransition();this._promise.finished.fulfill(this._jaxElm)};JAX.FX.CSS3.prototype._styleToCSSProperty=function(a){return a.replace(/([A-Z])/g,function(a,c){return"-"+c.toLowerCase()})};
JAX.FX.Interpolator=JAK.ClassMaker.makeClass({NAME:"JAX.FX.Interpolator",VERSION:"1.0",DEPEND:[{sClass:JAK.CSSInterpolator,ver:"2.1"}]});JAX.FX.Interpolator.prototype.$constructor=function(a){this._jaxElm=a;this._interpolators=[];this._interpolatorsCount=0;this._settings=[];this._promise={finished:null}};JAX.FX.Interpolator.prototype.set=function(a){this._settings=a};JAX.FX.Interpolator.prototype.run=function(){this._promise.finished=new JAK.Promise;this._interpolators=[];this._start();return this._promise.finished};
JAX.FX.Interpolator.prototype.stop=function(){for(var a=0,b=this._interpolators.length;a<b;a++)this._destroyInterpolator(a);this._promise.finished.reject(this._jaxElm)};
JAX.FX.Interpolator.prototype._start=function(){for(var a=0,b=this._settings.length;a<b;a++){var c=this._settings[a],d=c.durationValue,d=new JAK.CSSInterpolator(this._jaxElm.node(),d,{interpolation:c.method,endCallback:this._endInterpolator.bind(this,a)});this._interpolators.push(d);-1!=["backgroundColor","color"].indexOf(c.property)?d.addColorProperty(c.property,c.startValue,c.endValue):d.addProperty(c.property,c.startValue,c.endValue,c.startUnit);d.start();this._interpolatorsCount++}};
JAX.FX.Interpolator.prototype._endInterpolator=function(a){this._destroyInterpolator(a);this._interpolatorsCount||(this._interpolators=[],this._promise.finished.fulfill(this._jaxElm))};JAX.FX.Interpolator.prototype._destroyInterpolator=function(a){var b=this._interpolators[a];b&&(b.stop(),this._interpolators[a]=null,this._interpolatorsCount--)};JAX.FX.Scrolling=JAK.ClassMaker.makeClass({NAME:"JAX.FX.Scrolling",VERSION:"1.0"});
JAX.FX.Scrolling.prototype.$constructor=function(a){this._jaxElm=a;this._settings=[];this._promises={animationFinished:null};this._timeline=this._maxDuration=0;this._interpolators=[];this._runningInterpolatorCount=0;this._isRunning=this._reversed=!1;this._interval=null;this._onScrollingFinished=this._onScrollingFinished.bind(this)};
JAX.FX.Scrolling.prototype.addProperty=function(a,b,c){if("left"!=a&&"top"!=a)JAX.Report.error("You are trying to use unsupported property: "+propert+".",this._jaxElm.node());else return this._settings.push({property:a,defValue:null,value:b,duration:c}),this._maxDuration=Math.max(this._maxDuration,c),this};
JAX.FX.Scrolling.prototype.run=function(){if(this._promises.animationFinished)return this._promises.animationFinished;this._promises.animationFinished=new JAK.Promise;for(var a=this._runningInterpolatorCount=0,b=this._settings.length;a<b;a++){var c=this._settings[a],d=this._jaxElm.scroll(c.property);c.defValue=d;this._startInterval(c.property,c.value,c.duration)}this._isRunning=!0;this._reversed=!1;this._interval=setInterval(this._tick.bind(this),30);return this._promises.animationFinished};
JAX.FX.Scrolling.prototype.then=function(a,b){return this._promises.animationFinished.then(a,b)};JAX.FX.Scrolling.prototype.stop=function(){if(!this._isRunning)return this;for(var a=0,b=this._interpolators.length;a<b;a++)this._interpolators[a].stop();this._runningInterpolatorCount=0;this._interpolators=[];this._isRunning=!1;this._promises.animationFinished.reject(this._jaxElm);this._promises.animationFinished=null;clearInterval(this._interval);return this};
JAX.FX.Scrolling.prototype.reverse=function(){this._isRunning&&this.stop();this._reversed=!this._reversed;this._promises.animationFinished=new JAK.Promise;for(var a=this._runningInterpolatorCount=0,b=this._settings.length;a<b;a++){var c=this._settings[a],d=this._reversed?Math.min(c.duration,this._timeline):Math.max(c.duration-this._timeline,0);this._startInterval(c.property,this._reversed?c.defValue:c.value,d)}this._isRunning=!0;this._interval=setInterval(this._tick.bind(this),30);return this._promises.animationFinished};
JAX.FX.Scrolling.prototype._startInterval=function(a,b,c){var d=this._jaxElm.scroll(a),e=function(b){this._jaxElm.scroll(a,b)}.bind(this);b=new JAK.Interpolator(d,b,c,e,{endCallback:this._onScrollingFinished});b.start();this._interpolators.push(b);this._runningInterpolatorCount++};
JAX.FX.Scrolling.prototype._onScrollingFinished=function(){this._runningInterpolatorCount--;this._runningInterpolatorCount||(this._interpolators=[],this._isRunning=!1,this._promises.animationFinished.fulfill(this._jaxElm),this._promises.animationFinished=null,clearInterval(this._interval),this._timeline=!this._reversed?this._maxDuration:0)};JAX.FX.Scrolling.prototype._tick=function(){this._timeline=Math.min(Math.max(this._timeline+(this._reversed?-30:30),0),this._maxDuration)};
JAX.Report=JAK.ClassMaker.makeStatic({NAME:"JAX.Report",VERSION:"1.0"});JAX.Report.error=function(a,b){console.error&&(console.error("[::JAX::] I found error \u00bb\u00bb\u00bb "+a+" I will continue but my doing is unstable!"),b&&console.info("[::JAX::] around node \u00bb\u00bb\u00bb ",b))};
